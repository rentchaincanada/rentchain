<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>RentChain Health</title>
    <meta name="robots" content="noindex,nofollow" />
  </head>
  <body>
    <pre id="out">Checkingâ€¦</pre>
    <script>
      function getApiBaseUrl() {
        const raw =
          (window && (window.__API_BASE_URL__ || window.API_BASE_URL)) || '';
        const normalized = String(raw || '')
          .trim()
          .replace(/\/$/, '')
          .replace(/\/api$/i, '');
        return normalized || '/api';
      }

      (async () => {
        const out = document.getElementById('out');
        try {
          const base = getApiBaseUrl();
          const url = `${base.replace(/\/$/, '')}/health`;
          const r = await fetch(url, {
            cache: 'no-store',
            headers: { 'accept': 'application/json' }
          });
          const text = await r.text();
          out.textContent = text;
        } catch (e) {
          out.textContent = 'health check failed: ' + (e?.message || String(e));
        }
      })();
    </script>
  </body>
</html>
